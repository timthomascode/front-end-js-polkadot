(this["webpackJsonpfront-end-js-polkadot"]=this["webpackJsonpfront-end-js-polkadot"]||[]).push([[0],{1143:function(e){e.exports=JSON.parse('{"PROVIDER_SOCKET":"wss://rpc.polkadot.io"}')},1149:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n.n(a),c=n(121),o=n.n(c),l=n(1162),u=n(1160),i=n(1165),E=n(1164),s=n(1161),p=(n(517),n(241)),O=n(18),f=n.n(O),d=n(51),C=n(31),R=n(307),S=n.n(R),m=n(493),N=n.n(m),b=n(308),_=n(309),j=n(246),y=n.n(j),T=n(497),v=n(1143),k=["REACT_APP_PROVIDER_SOCKET","REACT_APP_DEVELOPMENT_KEYRING"].reduce((function(e,t){return void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/front-end-js-polkadot",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0})[t]&&(e[t.slice(10)]=Object({NODE_ENV:"production",PUBLIC_URL:"/front-end-js-polkadot",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0})[t]),e}),{}),P=Object(C.a)(Object(C.a)(Object(C.a)({},T),v),k),I=N.a.parse(window.location.search).rpc||P.PROVIDER_SOCKET;console.log("Connected socket: ".concat(I));var w={socket:I,jsonrpc:Object(C.a)(Object(C.a)({},S.a),P.RPC),types:P.CUSTOM_TYPES,keyring:null,keyringState:null,api:null,apiError:null,apiState:null},h=function(e,t){switch(t.type){case"CONNECT_INIT":return Object(C.a)(Object(C.a)({},e),{},{apiState:"CONNECT_INIT"});case"CONNECT":return Object(C.a)(Object(C.a)({},e),{},{api:t.payload,apiState:"CONNECTING"});case"CONNECT_SUCCESS":return Object(C.a)(Object(C.a)({},e),{},{apiState:"READY"});case"CONNECT_ERROR":return Object(C.a)(Object(C.a)({},e),{},{apiState:"ERROR",apiError:t.payload});case"LOAD_KEYRING":return Object(C.a)(Object(C.a)({},e),{},{keyringState:"LOADING"});case"SET_KEYRING":return Object(C.a)(Object(C.a)({},e),{},{keyring:t.payload,keyringState:"READY"});case"KEYRING_ERROR":return Object(C.a)(Object(C.a)({},e),{},{keyring:null,keyringState:"ERROR"});default:throw new Error("Unknown type: ".concat(t.type))}},g=!1,D=r.a.createContext(),A=function(e){var t=Object(C.a)({},w);["socket","types"].forEach((function(n){t[n]="undefined"===typeof e[n]?t[n]:e[n]}));var n=Object(a.useReducer)(h,t),c=Object(p.a)(n,2),o=c[0],l=c[1];return function(e,t){var n=e.apiState,a=e.socket,r=e.jsonrpc,c=e.types;if(!n){t({type:"CONNECT_INIT"});var o=new b.WsProvider(a),l=new b.ApiPromise({provider:o,types:c,rpc:r});l.on("connected",(function(){t({type:"CONNECT",payload:l}),l.isReady.then((function(e){return t({type:"CONNECT_SUCCESS"})}))})),l.on("ready",(function(){return t({type:"CONNECT_SUCCESS"})})),l.on("error",(function(e){return t({type:"CONNECT_ERROR",payload:e})}))}}(o,l),function(e,t){var n=function(){var e=Object(d.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"LOAD_KEYRING"}),e.prev=1,e.next=4,Object(_.web3Enable)(P.APP_NAME);case 4:return e.next=6,Object(_.web3Accounts)();case 6:n=(n=e.sent).map((function(e){var t=e.address,n=e.meta;return{address:t,meta:Object(C.a)(Object(C.a)({},n),{},{name:"".concat(n.name," (").concat(n.source,")")})}})),y.a.loadAll({isDevelopment:P.DEVELOPMENT_KEYRING},n),t({type:"SET_KEYRING",payload:y.a}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0),t({type:"KEYRING_ERROR"});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();if(!e.keyringState){if(g)return t({type:"SET_KEYRING",payload:y.a});g=!0,n()}}(o,l),r.a.createElement(D.Provider,{value:o},e.children)},K=function(){return Object(C.a)({},Object(a.useContext)(D))},Y=n(1163);function x(){var e=K().api,t=Object(a.useState)(),n=Object(p.a)(t,2),c=n[0],o=n[1];return Object(a.useEffect)((function(){return function(){var t=Object(d.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e.rpc.chain.subscribeNewHeads((function(e){o(e)}))}catch(n){console.error(n)}case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){return null}}),[e]),c?r.a.createElement(Y.a,{celled:!0,striped:!0},r.a.createElement(Y.a.Header,null,r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.HeaderCell,{colSpan:"2"},"Latest Block Information"))),r.a.createElement(Y.a.Body,null,r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.Cell,null,"Block Height:"),r.a.createElement(Y.a.Cell,null,c.number.toString())),r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.Cell,null,"Hash"),r.a.createElement(Y.a.Cell,null,c.hash.toString())),r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.Cell,null,"Previous Block Hash"),r.a.createElement(Y.a.Cell,null,c.parentHash.toString())),r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.Cell,null,"State Root"),r.a.createElement(Y.a.Cell,null,c.stateRoot.toString())),r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.Cell,null,"Extrinsics Root"),r.a.createElement(Y.a.Cell,null,c.extrinsicsRoot.toString())))):null}function G(e){var t=K().api;return t.rpc&&t.rpc.system.version?r.a.createElement(x,e):null}function H(){var e,t,n=K(),c=n.apiState,o=n.apiError;if("ERROR"===c)return t=o,r.a.createElement(i.a,{centered:!0,columns:2,padded:!0},r.a.createElement(i.a.Column,null,r.a.createElement(E.a,{negative:!0,compact:!0,floating:!0,header:"Error Connecting to Substrate",content:"".concat(JSON.stringify(t,null,4))})));if("READY"!==c)return e="Connecting to Substrate",r.a.createElement(l.a,{active:!0},r.a.createElement(u.a,{size:"small"},e));var p=Object(a.createRef)();return r.a.createElement("div",{ref:p},r.a.createElement(s.a,null,r.a.createElement(G,null)))}function L(){return r.a.createElement(A,null,r.a.createElement(H,null))}o.a.render(r.a.createElement(L,null),document.getElementById("root"))},497:function(e){e.exports=JSON.parse('{"APP_NAME":"front-end-js-polkadot","DEVELOPMENT_KEYRING":true,"RPC":{}}')},512:function(e,t,n){e.exports=n(1149)},585:function(e,t){},637:function(e,t){},639:function(e,t){},649:function(e,t){},651:function(e,t){},677:function(e,t){},679:function(e,t){},680:function(e,t){},685:function(e,t){},687:function(e,t){},694:function(e,t){},696:function(e,t){},715:function(e,t){},727:function(e,t){},730:function(e,t){},750:function(e,t){}},[[512,1,2]]]);
//# sourceMappingURL=main.598897cf.chunk.js.map